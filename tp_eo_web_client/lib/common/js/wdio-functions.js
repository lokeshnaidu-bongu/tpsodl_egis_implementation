/*! ElectricOfficeWeb 5.0.1 2021-06-16 */
define(["OpenLayers3","map-helper","plotting"],function(a,b,c){"use strict";var d=function(){var a,b=!1;return window.olMapInstance.olMap.getLayers().getArray().forEach(function(c){c.name&&"highlight_main_map"===c.name&&(b=!0,1!==c.getSource().getFeatures().length&&(a=[]),a=c.getSource().getFeatures()[0].getGeometry().getCoordinates())}),b?a:[]},e=function(){var a=[];return window.olMapInstance.olMap.getLayers().getArray().forEach(function(b){var c=b.getProperties();c.name&&"Markers"===c.name&&(a=b.getSource().getFeatures().length?b.getSource().getFeatures()[0].getGeometry().getCoordinates():[])}),a.length&&2===a.length?a:[]},f=function(){var a=[];return window.olMapInstance.olMap.getLayers().getArray().forEach(function(b){var c=b.getProperties();c.name&&"Markers"===c.name&&(a=2!==b.getSource().getFeatures().length?[]:b.getSource().getFeatures()[1].getGeometry().getCoordinates())}),a.length&&2===a.length?a:[]},g=function(){var a=[],b=!1;return window.olMapInstance.olMap.getLayers().getArray().forEach(function(c){var d=c.getProperties();d.name&&"Trace layer"===d.name&&(b=!0,c.getSource().getFeatures().forEach(function(b){b.getGeometry().getCoordinates().forEach(function(b){a.push(b)})}))}),b?a||[]:[]},h=function(){var a=[],b=!1;return window.olMapInstance.olMap.getLayers().getArray().forEach(function(c){var d=c.getProperties();d.name&&"Results Markers"===d.name&&(b=!0,c.getSource().getFeatures().length||(a=[]),c.getSource().getFeatures().forEach(function(b){a.push(b.getGeometry().getCoordinates())}))}),b&&a.length?a:[]},i=function(){var a=!1,b=[];return window.olMapInstance.olMap.getLayers().getArray().forEach(function(c){var d=c.getProperties();d.name&&"Sketching Layer"===d.name&&(a=!0,c.getSource().getFeatures().length||(b=[]),c.getSource().getFeatures().forEach(function(a){b.push(a)}))}),a?b:[]},j=function(){var a={},d=b.getLayerByName("Projected");if(d){var e=d.getSource().getFeatures()[0];if(e){var f=c.getPlotBoxBounds(e);a.bounds=f;var g=c.getPlotBoxCentre(window.olMapInstance.olMap,f);a.centre=g}}return a},k=function(a){var b=window.olMapInstance.olMap.getPixelFromCoordinate(a);return b},l=function(a){var b=window.olMapInstance.olMap.getCoordinateFromPixel(a);return b},m={getSelectedFeatureCoords:d,getTraceStartPointCoords:e,getTraceEndPointCoords:f,getTracedLineCoords:g,getFindMarkersCoords:h,getSketchingFeatures:i,getPlotRectangleCoords:j,getPixelFromCoordinate:k,getCoordinateFromPixel:l};return m});