/*! ElectricOfficeWeb 5.0.1 2021-06-16 */
define(["jquery","underscore","i18n!viewer/nls/messages","map-loader","text!object-details-partials/object-details.html","hogan","spatial-contexts","map-core-component/pubsub"],function(a,b,c,d,e,f){"use strict";var g,h,i,j,k=f.compile(e),l="object_details",m=function(){a.subscribe("sidebarContainerReady",function(a,b){a===l&&n(b,{id:a})}),a.subscribe("showObjectDetails",function(b){a.publish("openSidebarToItem",[l])}),a.subscribe("leavingSidebar",function(a){}),a.subscribe("gotoSidebar",function(a){}),a.subscribe("mapInitialised",function(a,b){h=b,i=a}),a.subscribe("popoverButtonVisibilityControl",function(b,c,e){"popoverButtonObjectDetails"===b[0].id&&(d.isAvailable(l)?a(b[0]).css("display","inline"):a(b[0]).css("display","none"))})},n=function(a){g=a,o()},o=function(){j=d.ObjectDetails.layout;var e={boxes:j,messages:c};g.append(k.render(e)),b.each(j,function(b){b.$selector=a("#"+b.name+"-details-box",g),a.publish("objectDetailsBoxReady",[b.name,b.$selector])})};m();var p={};return p.__TEST_ONLY__={getCardSelector:function(){return g},getOlMap:function(){return h},getOlMapName:function(){return i}},p});