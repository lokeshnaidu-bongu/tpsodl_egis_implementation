/*! ElectricOfficeWeb 5.0.1 2021-06-16 */
define(["jquery","underscore","OpenLayers3","hogan","text!sketching-partials/icon-button.html","text!sketching-icons/icon-arrow2.svg"],function(a,b,c,d,e,f){"use strict";var g=d.compile(f),h=d.compile(e),i={width:16,height:16,color:"#000000",strokeWidth:1},j={descriptionTarget:"arrowDescription",optionsGroup:"arrowButtons",id:"arrow_red",svgBase64:""},k=function(d,e,f,g){var h,i,j,k=a("#sketchControl #arrowButtons",e),o={};return d=d||(d={black:"#000000"}),b.each(d,function(b,d){h="arrow_"+d;var e=new c.style.Stroke({color:b,width:4}),p=new c.style.Circle({radius:5,fill:new c.style.Fill({color:[240,240,240,.75]}),stroke:e}),q=new c.style.Style({image:p,stroke:e});o[h]=new c.interaction.Draw({source:f.getSource(),features:g,type:"LineString",style:q});var r=function(a){var b,d,f,g=this.getGeometry(),h=g.getLastCoordinate(),i=10*a,j=[],k=[g];return g.forEachSegment(function(a,c){c[0]===h[0]&&c[1]===h[1]&&(b=c,d=Math.atan2(c[1]-a[1],c[0]-a[0]))}),f=n(b,d,i),k.push(f[0]),k.push(f[1]),g=new c.geom.GeometryCollection(k),j.push(new c.style.Style({geometry:g,stroke:e})),j};o[h].setProperties({customStyle:r,parserStyle:q}),i=l({color:b}),j=m(i,{id:h}),k.append(a(j))}),o},l=function(b){var c=a.extend({},i,b);return g.render(c)},m=function(b,c){var d=a.extend({},j,c);return d.svgBase64=btoa(b),h.render(d)},n=function(a,b,d){var e,f,g,h,i,j,k=new c.geom.Point(a);return e=k.clone(),g=d*Math.cos(b+2.35619),h=d*Math.sin(b+2.35619),e.translate(g,h),i=new c.geom.LineString([k.getCoordinates(),e.getCoordinates()]),f=k.clone(),g=d*Math.cos(b-2.35619),h=d*Math.sin(b-2.35619),f.translate(g,h),j=new c.geom.LineString([k.getCoordinates(),f.getCoordinates()]),[i,j]},o={addControls:k,getSvgForControl:l,getButtonForSvg:m,drawArrowTip:n};return o});