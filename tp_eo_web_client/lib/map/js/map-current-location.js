/*! ElectricOfficeWeb 5.0.1 2021-06-16 */
define(["jquery","map-loader","map-helper"],function(a,b,c){"use strict";var d,e=function(){a.subscribe("mapInitialised",function(c,e){b.mapCurrentLocationEnabled&&(d=e,a("#currentLocationButton").on("click",function(){f()}))}),a.subscribe("streetViewEnter",function(){a("#currentLocationButton").css("display","none")}),a.subscribe("streetViewExit",function(){b.mapCurrentLocationEnabled&&a("#currentLocationButton").css("display","block")})},f=function(){navigator.geolocation.getCurrentPosition(g)},g=function(a){var e,f=b.mapCurrentLocationZoomLevel||18;c.setBusyCursor(),e=c.transformToMapProjection([a.coords.longitude,a.coords.latitude]),c.setCurrentMapCentreAndZoom(d,e,f),c.clearBusyCursor()};e();var h={};return h.__TEST_ONLY__={centreMap:g},h});